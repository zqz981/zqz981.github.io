---
layout: post
title: vps账户被黑了
category: life
---
今晚在摆弄vps账户时，调用```netstat -an | grep 22```时发现有个陌生的IP地址连接到我的vps上。网络上查询该地址：```112.220.201.150```发现是韩国的地址。 真的时立马感觉到不好了。使用 ```nmap 112.220.201.150```查询发现它的8080端口是开着的，但是没有内容。没有别的技术手段进一步追踪了。只好先把密码改掉了。
在网络上找到一个短的脚本：
```cat /var/log/auth.log | awk '/Failed/{print $(NF-3)}' | sort | uniq -c | awk '{print $2" = "$1;}'```不查不知道，一查下一跳啊。显示结果为：
```
1.43.97.101 = 2
111.74.239.197 = 603
112.220.201.150 = 208
116.31.116.26 = 3
116.31.116.53 = 2353
117.71.18.20 = 6
118.255.205.246 = 2
119.249.54.71 = 262
120.26.200.22 = 71
121.18.238.104 = 423
121.18.238.109 = 288
121.18.238.114 = 338
121.18.238.98 = 248
123.31.31.170 = 54
125.65.207.27 = 1
139.201.126.232 = 8
14.177.91.16 = 10
152.247.99.59 = 1
153.99.182.23 = 2
163.172.211.88 = 172
176.194.223.25 = 4
177.113.146.111 = 1
177.196.122.112 = 1
177.213.126.209 = 1
177.213.240.17 = 1
177.78.254.1 = 1
178.161.59.40 = 1
179.114.44.167 = 1
179.119.237.248 = 1
179.128.126.22 = 1
179.130.9.87 = 1
179.133.171.176 = 1
179.146.61.207 = 1
179.147.123.4 = 1
179.160.247.129 = 1
179.166.19.202 = 1
179.170.140.250 = 1
179.170.207.194 = 1
179.88.143.10 = 1
179.90.89.58 = 1
182.100.67.76 = 2306
183.206.163.111 = 1
185.129.148.181 = 1
185.169.229.41 = 30
187.118.78.78 = 1
188.79.35.0 = 1
191.207.21.51 = 1
191.208.33.218 = 1
191.208.61.140 = 1
191.210.170.25 = 1
191.29.137.84 = 1
195.154.215.74 = 3
199.89.54.155 = 65
200.93.93.52 = 192
202.57.162.131 = 2
211.33.170.39 = 2
218.83.155.86 = 78
218.87.109.152 = 4
219.138.233.22 = 3
221.194.44.195 = 305
221.194.44.219 = 594
221.194.44.224 = 170
221.194.44.231 = 142
221.194.47.208 = 272
221.194.47.224 = 414
221.194.47.249 = 373
223.99.60.37 = 4
31.173.182.165 = 2
45.32.193.79 = 6
45.76.176.133 = 6
47.90.201.114 = 387
51.15.128.90 = 40
51.15.135.42 = 5
59.63.188.2 = 3
60.12.119.222 = 2
62.201.196.250 = 7
91.195.103.173 = 6

``
